# PG_Anlize_Sys: 项目开发计划

本项目将分阶段进行开发，以确保模块化、高质量的交付。每个阶段都有明确的目标和可交付成果。

---

## 第一阶段：项目初始化与核心环境搭建

**目标**: 搭建稳固的项目基础，完成所有前置准备工作。

- **任务 1.1**: **环境与依赖确认 (已完成)**
  - [x] 确认 Python 虚拟环境。
  - [x] 确认 `requirements.txt` 中的核心依赖已安装。

- **任务 1.2**: **项目结构初始化 (已完成)**
  - [x] 创建核心目录结构 (`src`, `data`, `docs`, `tests`, `notebooks`)。

- **任务 1.3**: **配置管理**
  - [ ] 设计并实现一个统一的配置管理模块（如 `src/config.py`）。
  - [ ] 用于管理数据库连接信息、API密钥、日志级别等。
  - [ ] **注意**: 绝不将敏感信息硬编码或提交到版本控制中。建议使用环境变量或 `.env` 文件。

- **任务 1.4**: **日志系统**
  - [ ] 集成日志记录功能（如 `logging` 模块）。
  - [ ] 确保在关键模块中可以记录信息、警告和错误。

**交付成果**:
- 一个可以处理配置和日志的、结构完整的项目框架。

---

## 第二阶段：数据管道实现 (数据采集与存储)

**目标**: 建立稳定、高效的数据流水线，为上层分析提供数据支持。

- **任务 2.1**: **数据库模型设计**
  - [ ] 设计 PostgreSQL/TimescaleDB 的表结构，用于存储股票列表、日线行情等。
  - [ ] 考虑未来需要存储的数据类型（如分钟线、财务数据）。

- **任务 2.2**: **数据存储模块 (`data_storage`)**
  - [ ] 实现数据库连接和会话管理。
  - [ ] 实现通用的数据写入（`save_data`）和读取（`get_data`）函数。

- **任务 2.3**: **数据采集模块 (`data_acquisition`)**
  - [ ] 封装 Akshare 或 Tushare 的 API 调用。
  - [ ] 实现获取A股股票列表的功能。
  - [ ] 实现获取单个股票历史日线行情的功能。
  - [ ] 将获取的数据通过 `data_storage` 模块存入数据库。

**交付成果**:
- 一个可以自动从指定数据源获取股票数据并存入数据库的完整数据管道。
- 数据库中有可供查询的股票列表和日线行情数据。

---

## 第三阶段：策略引擎与信号生成

**目标**: 实现核心的策略分析能力，并产生初步的交易信号。

- **任务 3.1**: **策略引擎 (`strategy_engine`)**
  - [ ] 设计策略基类，定义策略的输入（数据）和输出（信号）。
  - [ ] 实现第一个具体策略：**双移动均线 (Dual Moving Average) 交叉策略**。
  - [ ] 策略应能处理从 `data_storage` 获取的数据，并计算技术指标。

- **任务 3.2**: **信号模块 (`signals`)**
  - [ ] 实现信号处理逻辑，将策略引擎的原始输出转换为标准化的买入/卖出/持有信号。
  - [ ] 定义信号的数据结构（例如，包括股票代码、日期、信号类型、价格等）。

**交付成果**:
- 一个可以针对单个股票运行均线策略并生成交易信号的模块。

---

## 第四阶段：任务调度与前端展示

**目标**: 实现流程自动化，并通过简单的界面将结果可视化。

- **任务 4.1**: **任务调度模块 (`scheduling`)**
  - [ ] 使用 `APScheduler` 创建一个每日定时任务。
  - [ ] 该任务按顺序执行：数据更新 -> 策略分析 -> 信号生成。

- **任务 4.2**: **展示模块 (`presentation`)**
  - [ ] 使用 `Flask` 或 `Streamlit` 搭建一个简单的 Web 应用。
  - [ ] **页面1**: 显示当前所有股票的最新信号列表。
  - [ ] **页面2 (可选)**: 点击某个股票，可以查看其近期的 K 线图和买卖点标记。

**交付成果**:
- 一个可以每日自动运行并更新结果的系统。
- 一个可以查看最新交易信号的 Web 界面。

---

## 第五阶段：测试、优化与文档完善

**目标**: 保证系统稳定性、性能和可维护性。

- **任务 5.1**: **单元测试 (`tests`)**
  - [ ] 为数据采集、策略计算等关键函数编写单元测试。

- **任务 5.2**: **性能优化**
  - [ ] 评估数据读写和策略计算的性能，进行必要的优化。
  - [ ] 考虑引入 Redis 对常用数据（如股票列表）进行缓存。

- **任务 5.3**: **文档完善**
  - [ ] 为核心模块和函数编写清晰的文档字符串 (Docstrings)。
  - [ ] 更新 `README.md`，包含更详细的运行和部署说明。

**交付成果**:
- 一个经过测试、性能良好且文档齐全的量化交易辅助系统。
